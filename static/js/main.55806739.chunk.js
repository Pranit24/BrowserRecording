(this.webpackJsonprecord=this.webpackJsonprecord||[]).push([[0],{18:function(e,t,a){e.exports=a(29)},23:function(e,t,a){},25:function(e,t,a){},29:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),i=a(10),o=a.n(i),s=(a(23),a(4)),c=a.n(s),l=a(6),u=a(11),d=a(12),p=a(16),m=a(14),g=a(17),v=(a(25),a(34)),h=a(31),E=a(32),f=a(33),y=a(7);var b=a(27),w=!!(navigator.mediaDevices.getUserMedia||navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia),A=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(p.a)(this,Object(m.a)(t).call(this,e))).componentDidMount=function(){w?(a.requestUserMedia(),a.state.audio.addEventListener("ended",(function(){a.stopAudio()}))):alert("Browser not supported")},a.requestUserMedia=Object(l.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("requestUserMedia"),e.prev=1,e.next=4,navigator.mediaDevices.getUserMedia({audio:!0});case 4:a.setState({micEnabled:!0}),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(1),alert("Enable microphone and refresh"),a.setState({micEnabled:!1});case 11:case"end":return e.stop()}}),e,null,[[1,7]])}))),a.startRecording=Object(l.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.requestUserMedia(),a.state.playFlag||a.stopAudio(),a.setState((function(e){return{recordFlag:!e.recordFlag,playFlag:!0}})),e.next=5,navigator.mediaDevices.getUserMedia(a.state.rtcSession,{audio:!0});case 5:t=e.sent,a.setState({recordAudio:new y.RecordRTCPromisesHandler(t,a.state.rtcSession)}),a.state.recordAudio.startRecording();case 8:case"end":return e.stop()}}),e)}))),a.stopRecording=Object(l.a)(c.a.mark((function e(){var t,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.requestUserMedia(),a.setState((function(e){return{recordFlag:!e.recordFlag}})),e.next=4,a.state.recordAudio.stopRecording();case 4:return t=e.sent,e.next=7,a.state.recordAudio.getBlob();case 7:r=e.sent,a.setState({data:r,url:t});case 9:case"end":return e.stop()}}),e)}))),a.playAudio=Object(l.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.setState((function(e){return{playFlag:!e.playFlag}})),(t=a.state.audio).src=a.state.url,t.preload="metadata",t.play(),a.setState({audio:t});case 6:case"end":return e.stop()}}),e)}))),a.stopAudio=function(){a.setState((function(e){return{playFlag:!e.playFlag}}));var e=a.state.audio;e.pause(),e.currentTime=0,a.setState({audio:e})},a.saveAudio=function(){b.saveAs(a.state.data,"audio.wav")},a.state={recordAudio:null,src:null,data:null,url:null,micEnabled:!1,recordFlag:!0,playFlag:!0,audio:new Audio,rtcSession:{type:"audio",mimeType:"audio/wav",audio:!0,recorderType:y.StereoAudioRecorder}},a}return Object(g.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e,t,a;return t=this.state.micEnabled?this.state.recordFlag?n.a.createElement(v.a,{variant:"primary",size:"lg",onClick:this.startRecording,active:!0,style:{marginBottom:"20px"}},"Start Recording"):n.a.createElement(v.a,{variant:"primary",size:"lg",onClick:this.stopRecording,active:!0,style:{marginBottom:"20px"}},"Stop Recording"):n.a.createElement(v.a,{variant:"secondary",size:"lg",onClick:this.startRecording,disabled:!0,style:{marginBottom:"20px"}},"Start Recording"),this.state.data&&this.state.recordFlag&&this.state.playFlag?(e=n.a.createElement(v.a,{variant:"primary",size:"lg",onClick:this.playAudio,active:!0},"Play Audio"),a=n.a.createElement(v.a,{variant:"success",size:"lg",onClick:this.saveAudio,active:!0},"Save Audio")):this.state.data&&this.state.recordFlag&&!this.state.playFlag&&(e=n.a.createElement(v.a,{variant:"danger",size:"lg",onClick:this.stopAudio,active:!0},"Stop Playing Audio"),a=n.a.createElement(v.a,{variant:"success",size:"lg",onClick:this.saveAudio,active:!0},"Save Audio")),n.a.createElement("div",{className:"App"},n.a.createElement("div",null,n.a.createElement("h1",null,"Browser Recorder"),n.a.createElement("p",null,n.a.createElement("sub",null,"Tested in Chrome, Firefox and Safari")),n.a.createElement("p",null,"This is a simple web application used to record audio using your microphone and play it back or save it to your local machine"),n.a.createElement("p",null,"GitHub Link:",n.a.createElement("a",{href:"https://github.com/Pranit24/BrowserRecording"},"https://github.com/Pranit24/BrowserRecording"))),n.a.createElement(h.a,{style:{marginTop:"50px"}},n.a.createElement(E.a,null,n.a.createElement(f.a,null,t)),n.a.createElement(E.a,null,n.a.createElement(f.a,null,e),n.a.createElement(f.a,null,a),n.a.createElement(f.a,null),n.a.createElement(f.a,null),n.a.createElement(f.a,null))),n.a.createElement("br",null))}}]),t}(r.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(28);o.a.render(n.a.createElement(A,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[18,1,2]]]);
//# sourceMappingURL=main.55806739.chunk.js.map