(this.webpackJsonprecord=this.webpackJsonprecord||[]).push([[0],{156:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),o=a(21),i=a.n(o),s=(a(85),a(4)),c=a.n(s),d=a(22),l=a(67),u=a(68),p=a(76),g=a(69),m=a(77),v=(a(87),a(158)),h=a(160),f=a(161);a(88);var y=a(51),E=a.n(y),w={encoderWorkerFactory:function(){return new Worker("/BrowserRecording/opus-media-recorder/encoderWorker.umd.js")},OggOpusEncoderWasmPath:"/BrowserRecording/opus-media-recorder/OggOpusEncoder.wasm",WebMOpusEncoderWasmPath:"/BrowserRecording/opus-media-recorder/WebMOpusEncoder.wasm"},b=a(103),S=!!(navigator.mediaDevices.getUserMedia||navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia),k=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(p.a)(this,Object(g.a)(t).call(this,e))).componentDidMount=function(){if(S){a.requestUserMedia(),a.state.audio.addEventListener("ended",(function(){a.stopAudio()}));a.state.audio.addEventListener("loadeddata",(function(){!function(e){console.log(e),a.setState({duration:e})}(this.duration)}))}else alert("Browser not supported")},a.requestUserMedia=Object(d.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("requestUserMedia"),e.prev=1,e.next=4,navigator.mediaDevices.getUserMedia({audio:!0});case 4:window.MediaRecorder&&window.MediaRecorder.isTypeSupported("audio/ogg;codecs=opus")||(window.MediaRecorder=E.a),a.setState({micEnabled:!0}),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),alert("Enable microphone and refresh "+e.t0),a.setState({micEnabled:!1});case 12:case"end":return e.stop()}}),e,null,[[1,8]])}))),a.startRecording=Object(d.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.requestUserMedia(),a.state.playFlag||a.stopAudio(),a.setState((function(e){return{recordFlag:!e.recordFlag,playFlag:!0,data:null}})),navigator.mediaDevices.getUserMedia({audio:!0}).then((function(e){a.recorder=new MediaRecorder(e,{mimeType:"audio/ogg; codecs=opus"},w),a.setState({state:"inactive"}),a.recorder.start(),a.recorder.addEventListener("dataavailable",(function(e){console.log("Recording stopped, data available"),a.onDataAvailable(e)})),a.recorder.addEventListener("start",(function(e){console.log("start"),a.setState({state:"recording"})})),a.recorder.addEventListener("stop",(function(e){console.log("stop"),a.setState({state:"inactive"})})),a.recorder.addEventListener("pause",(function(e){console.log("pause"),a.setState({state:"paused"})})),a.recorder.addEventListener("resume",(function(e){console.log("resume"),a.setState({state:"recording"})})),a.recorder.addEventListener("error",(function(e){console.log("error")}))}));case 4:case"end":return e.stop()}}),e)}))),a.onDataAvailable=function(e){a.setState({data:e.data}),a.setState({url:URL.createObjectURL(a.state.data)});var t=a.state.audio;t.src=a.state.url,a.setState({audio:t})},a.stopRecording=Object(d.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.requestUserMedia(),a.setState((function(e){return{recordFlag:!e.recordFlag}})),a.recorder.stop();case 3:case"end":return e.stop()}}),e)}))),a.setDuration=function(){console.log(a.duration)},a.playAudio=Object(d.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.setState((function(e){return{playFlag:!e.playFlag}})),(t=a.state.audio).src=a.state.url,t.play(),a.setState({audio:t});case 5:case"end":return e.stop()}}),e)}))),a.stopAudio=function(){a.setState((function(e){return{playFlag:!e.playFlag}}));var e=a.state.audio;e.pause(),e.currentTime=0,a.setState({audio:e})},a.saveAudio=function(){b.saveAs(a.state.data,"audio.opus")},a.state={recordAudio:null,src:null,url:null,data:null,micEnabled:!1,recordFlag:!0,playFlag:!0,audio:new Audio},a}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e,t,a;return t=this.state.micEnabled?this.state.recordFlag?n.a.createElement(v.a,{type:"primary",size:"large",onClick:this.startRecording,active:!0,style:{marginBottom:"20px"}},"Start Recording"):n.a.createElement(v.a,{type:"primary",size:"large",onClick:this.stopRecording,active:!0,style:{marginBottom:"20px"}},"Stop Recording"):n.a.createElement(v.a,{type:"secondary",size:"large",onClick:this.startRecording,disabled:!0,style:{marginBottom:"20px"}},"Start Recording"),this.state.data&&this.state.recordFlag&&this.state.playFlag?(e=n.a.createElement(v.a,{type:"primary",size:"large",onClick:this.playAudio,active:!0},"Play ",this.state.duration,"s Audio"),a=n.a.createElement(v.a,{type:"primary",size:"large",onClick:this.saveAudio,active:!0},"Save Audio")):this.state.data&&this.state.recordFlag&&!this.state.playFlag&&(e=n.a.createElement(v.a,{type:"danger",size:"large",onClick:this.stopAudio,active:!0},"Stop Playing Audio"),a=n.a.createElement(v.a,{type:"primary",size:"large",onClick:this.saveAudio,active:!0},"Save Audio")),n.a.createElement("div",{className:"App"},n.a.createElement("div",null,n.a.createElement("h1",null,"Browser Recorder"),n.a.createElement("p",null,n.a.createElement("sub",null,"Tested in Chrome, Firefox and Safari")),n.a.createElement("p",null,"This is a simple web application used to record audio using your microphone and play it back or save it to your local machine"),n.a.createElement("p",null,"GitHub Link:",n.a.createElement("a",{href:"https://github.com/Pranit24/BrowserRecording"},"https://github.com/Pranit24/BrowserRecording"))),n.a.createElement(h.a,{style:{marginTop:"50px"}},n.a.createElement(f.a,{span:24},t)),n.a.createElement(h.a,null,n.a.createElement(f.a,{span:12},e),n.a.createElement(f.a,{span:12},a)),n.a.createElement("br",null))}}]),t}(r.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(155);i.a.render(n.a.createElement(k,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},80:function(e,t,a){e.exports=a(156)},85:function(e,t,a){},87:function(e,t,a){}},[[80,1,2]]]);
//# sourceMappingURL=main.6a8254dc.chunk.js.map